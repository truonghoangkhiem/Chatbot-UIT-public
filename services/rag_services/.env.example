# =============================================================================
# RAG SERVICES CONFIGURATION
# =============================================================================
# This .env file configures the RAG (Retrieval-Augmented Generation) service
# Including: Vector Store, Embeddings, Reranking, LLM, and extraction models
# =============================================================================

# -----------------------------------------------------------------------------
# 1. SERVER
# -----------------------------------------------------------------------------
APP_ENV=dev
PORT=8000
LOG_LEVEL=INFO

# -----------------------------------------------------------------------------
# 2. VECTOR STORE (Weaviate)
# -----------------------------------------------------------------------------
VECTOR_BACKEND=weaviate
WEAVIATE_URL=http://localhost:8090
WEAVIATE_CLASS_NAME=VietnameseDocumentV3
WEAVIATE_USE_CLOUD=false
WEAVIATE_GRPC_PORT=50051
WEAVIATE_API_KEY=

# -----------------------------------------------------------------------------
# 3. EMBEDDINGS & RERANKING
# -----------------------------------------------------------------------------
EMB_MODEL=intfloat/multilingual-e5-base
USE_RERANKING=true
RERANK_MODEL=cross-encoder/ms-marco-MiniLM-L-6-v2
RERANK_BATCH_SIZE=16
RERANK_MAX_LENGTH=512
# Vietnamese rerank model (disabled - model not available on HuggingFace)
# VIETNAMESE_RERANK_MODEL=bkai-foundation-models/vietnamese-cross-encoder
VIETNAMESE_RERANK_MODEL=

# -----------------------------------------------------------------------------
# 4. OPENROUTER API (LLM Provider)
# -----------------------------------------------------------------------------
LLM_PROVIDER=openrouter
LLM_MODEL=openai/gpt-4o-mini
LLM_TEMPERATURE=0.0
LLM_MAX_TOKENS=2000

# Get your API key from https://openrouter.ai
OPENROUTER_API_KEY=your_openrouter_api_key_here
OPENAI_API_KEY=your_openrouter_api_key_here
OPENAI_BASE_URL=https://openrouter.ai/api/v1

# -----------------------------------------------------------------------------
# 5. NEO4J GRAPH DATABASE
# -----------------------------------------------------------------------------
NEO4J_URI=bolt://localhost:7687
NEO4J_USER=neo4j
NEO4J_PASSWORD=your_neo4j_password_here

# -----------------------------------------------------------------------------
# 6. EXTRACTION MODELS (3-Tier Strategy)
# -----------------------------------------------------------------------------
# VLM Model for document structure extraction (Tier 1)
VLM_MODEL=openai/gpt-4.1

# Entity Extraction Model (Tier 2)
TIER2_MODEL_ID=x-ai/grok-4.1-fast
TIER2_TEMPERATURE=0.1
TIER2_MAX_TOKENS=2048

# Complex Rules Extraction Model (Tier 3)
TIER3_MODEL_ID=x-ai/grok-4.1-fast
TIER3_TEMPERATURE=0.0
TIER3_MAX_TOKENS=4096
